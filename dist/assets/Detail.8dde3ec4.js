import{d as S,K as E,o as m,b as h,a as e,n as W,j as g,t as i,_ as F,u as N,F as A,l as O,c as j,h as B,A as I,f as k,w as f,x as T,S as G,e as H}from"./index.2c36561e.js";import{a as M,b as q,u as J,f as P,T as Q,g as U}from"./Util.b8758286.js";import{A as L}from"./AssortType.f815ae05.js";const X={class:"list-container"},Y={class:"type-comment"},Z={class:"comment"},ee={class:"money"},te=S({__name:"DetailListItem",props:{money:null,typeString:null,time:null,remark:null,typeFlog:{type:Boolean},id:null},setup(u){const s=u,a=E(()=>{const _=s.typeString.split("-")[0],p=s.typeString.split("-")[1];return s.typeFlog?M().getTwoIcon(_,p):q().getTwoIcon(_,p)});return(_,p)=>(m(),h("ul",X,[e("li",null,[e("i",{class:W(["iconfont",g(a)])},null,2),e("div",Y,[e("p",null,i(s.typeString),1),e("p",Z,i(s.remark),1)]),e("div",ee,"\xA5"+i(u.typeFlog?"-"+u.money:u.money),1)])]))}});const se=F(te,[["__scopeId","data-v-fb5bbb0b"]]),ne={class:"detai-list-cantainer"},oe={class:"title"},ae={class:"left"},le={class:"time"},ie={class:"week"},ce={class:"right"},re={class:"text"},ue={class:"all-money"},_e=S({__name:"DetailList",props:{time:null,total:null,list:null},setup(u){const s=u,a=E(()=>{let c=0;return s.list.forEach(r=>{r.typeFlog?c-=r.money:c+=r.money}),c}),_=N(),p=c=>{const{money:r,time:n,typeString:y,id:b,remark:C}=c;_.push({path:"/edit",query:{money:r,time:n,typeString:y,id:b,remark:C}})};return(c,r)=>(m(),h("div",ne,[e("div",oe,[e("div",ae,[e("span",le,i(s.time),1),e("span",ie,i(s.total),1)]),e("div",ce,[e("span",re,i(g(a)<=0?"\u652F\u51FA:":"\u6536\u5165:"),1),e("span",ue,i(g(a)),1)])]),(m(!0),h(A,null,O(s.list,n=>(m(),j(se,{key:n.id,money:n.money,typeString:n.typeString,time:n.time,typeFlog:n.typeFlog,remark:n.remark,id:n.id,onClick:y=>p(n)},null,8,["money","typeString","time","typeFlog","remark","id","onClick"]))),128))]))}});const pe=F(_e,[["__scopeId","data-v-642c6fa7"]]),de=H(" \u660E\u7EC6 "),me={class:"assort"},ye={class:"container-detail"},fe=S({__name:"Detail",setup(u){const s=B(!1),a=B(!1),_=()=>{a.value=!1,s.value=!s.value},p=()=>{s.value=!1,a.value=!a.value},c=()=>{s.value=!1,a.value=!1},r=N(),n=()=>{r.push("/create")},y=J(),b=["\u5168\u90E8\u5206\u7C7B",...M().firstLevel,...q().firstLevel],C=y.allMonth,o=I({type:"\u5168\u90E8\u5206\u7C7B",time:P(new Date).substring(0,7),money:0}),R=l=>{o.type=l},V=l=>{o.time=l},z=l=>{o.money=Number(l.target.value)},w=G();w.query.text&&(o.type=w.query.text);const K=E(()=>{const l=I([]);let d=y.expenseRecords;o.type==="\u5168\u90E8\u5206\u7C7B"?d=d.filter(t=>{if(t.money>=o.money&&t.time.indexOf(o.time)!==-1)return t}):d=d.filter(t=>{if(t.typeString.indexOf(o.type)!==-1&&t.money>=o.money&&t.time.indexOf(o.time)!==-1)return t});const v=new Set;return d.forEach(t=>{v.add(t.time)}),[...v].forEach(t=>{const D={time:t,total:U(t),list:[]};d.forEach($=>{$.time.indexOf(t)!==-1&&D.list.push($)}),l.push(D)}),l.sort((t,D)=>Date.parse(t.time)>Date.parse(D.time)?-1:1),l});return(l,d)=>{const v=pe;return m(),h("div",{class:"container",onClick:c},[k(Q,null,{center:f(()=>[de]),right:f(()=>[e("i",{class:"iconfont icon-zengjia",onClick:n})]),_:1}),e("div",me,[k(L,{list:b,display:s.value,onClick:T(_,["stop"]),onChangeSelect:R},{default:f(()=>[e("span",null,i(o.type),1)]),_:1},8,["display","onClick"]),k(L,{list:g(C),display:a.value,onClick:T(p,["stop"]),onChangeSelect:V},{default:f(()=>[e("span",null,i(o.time),1)]),_:1},8,["list","display","onClick"]),k(L,null,{default:f(()=>[e("input",{type:"number",placeholder:"\u91D1\u989D\u5927\u4E8E",onChange:z,class:"inputNumber"},null,32)]),_:1})]),e("div",ye,[(m(!0),h(A,null,O(g(K),(x,t)=>(m(),j(v,{key:t,time:x.time,total:x.total,list:x.list},null,8,["time","total","list"]))),128))])])}}});const xe=F(fe,[["__scopeId","data-v-dec25220"]]);export{xe as default};
